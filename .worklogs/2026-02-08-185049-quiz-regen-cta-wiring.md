# Quiz regeneration with CTA pipeline + slug cleanup

**Date:** 2026-02-08 18:50
**Scope:** Quiz engine, schema, prompts, result components, quiz JSONs, registry, definitions

## Summary
Wired community CTA ($7/month Skool) into all quiz result pages, built CTA fields into the generation pipeline (Zod schema + generation prompts), removed invalid `parenting-approach` slug, and regenerated all 3 quizzes via background agents. Emotional-intelligence quiz changed from readiness to Likert format.

## Context & Problem
1. Quiz result pages had no post-result CTA driving users to the paid community
2. CTA copy was being hand-written manually instead of generated by the quiz agent
3. `parenting-approach` slug existed in quiz registry but isn't a valid quiz in taxonomy — it's a blog category. Only 24 quiz slugs are valid per `taxonomy_v3.md`
4. Emotional-intelligence quiz was originally readiness format but works better as Likert (behavioral profile, not readiness check)

## Decisions Made

### Community CTA as primary post-quiz conversion
- **Chose:** Community at $7/month as the single primary CTA on full result pages
- **Why:** $7/month is a tripwire price — massively easier sell than $100 courses. Research confirmed single CTA (13.5%) converts better than dual CTA (11.9%). Value ladder: free quiz → email capture → $7/month community → courses upsold inside
- **Alternatives considered:**
  - Course CTA as primary — rejected because $100 is too high a jump from free quiz
  - Dual CTA (community + course) — rejected because research shows choice reduces conversion

### CTA copy generated by agent, not hand-written
- **Chose:** Strip all hand-written CTA fields from quiz-definitions.json, add CTA field specs to generation prompts, validate with Zod schema
- **Why:** User principle: "every time we want to change something, we drop the full quiz and regenerate." Hand-written CTAs break this — they'd be lost on regeneration
- **Alternatives considered:**
  - Keep hand-written CTAs in definitions file — rejected because it breaks the regeneration-first workflow

### Emotional-intelligence as Likert
- **Chose:** Generate EI as Likert (4 dimensions: emotion-vocabulary, self-regulation, empathy, frustration-tolerance) instead of readiness
- **Why:** EI is a behavioral profile, not a binary readiness assessment. Likert's "rate how often" maps better to the domain

## Architectural Notes
- `communityCta.buttonText` uses `z.literal("Join for $7/month")` in schema to prevent drift
- `previewCta`, `previewPromises`, `communityCta` are all now required fields in QuizMetaSchema
- CommunityCTA component rendered in all 3 result components (quiz-result, identity-result, likert-result) — only shown in non-shared view
- Registry (index.ts) now hydrates both parenting-style AND emotional-intelligence via `hydrateLikert()`

## Information Sources
- User's pricing model: community = $7/month, courses = ~$100
- Background research on single vs dual CTA conversion rates
- `research/quizzes/quiz-ideas.md` — canonical 24 quiz slugs
- Existing CommunityCTA component at `landing/src/components/blog/community-cta.tsx`

## Key Files for Context
- `landing/src/lib/quiz/quiz-schema.ts` — Zod validation including CTA fields
- `landing/src/lib/quiz/quiz-prompt.ts` — generation prompts with CTA specs
- `landing/src/lib/quiz/index.ts` — quiz registry (3 quizzes, 2 Likert + 1 readiness)
- `landing/src/components/quiz/quiz-result.tsx` — readiness result with CommunityCTA
- `landing/src/components/quiz/likert-result.tsx` — Likert result with CommunityCTA
- `research/quizzes/quiz-definitions.json` — 24 quiz definitions (CTAs stripped)

## Next Steps
1. Deploy this commit (Railway auto-deploys from main)
2. Generate remaining 21 quizzes in batches
3. Wire up ConvertKit for FreebieCTA email capture (drizzle/db work started but not included here)
